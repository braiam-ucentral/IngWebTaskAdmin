<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<f:view xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<h:head />
	<h:body>

		<h:form>
			<h2>
		        <h:outputText value="Create Course" rendered="#{manageCoursesBean.mode eq 'new'}"/>
		        <h:outputText value="Edit Course" rendered="#{manageCoursesBean.mode eq 'edit'}"/>
			</h2>
			
			  
			
			<p:panelGrid columns="2">
				<f:facet name="header"> 
			        <h:outputText value="New Course Info" rendered="#{manageCoursesBean.mode eq 'new'}"/>
			        <h:outputText value="Course Info" rendered="#{manageCoursesBean.mode eq 'edit'}"/>
			    </f:facet>

				<h:outputLabel for="txtCode" value="Code" />
				<p:inputText id="txtCode" value="#{manageCoursesBean.course.code}" readonly="#{manageCoursesBean.mode eq 'edit'}"/>


				<h:outputLabel for="txtName" value="Name" />
				<p:inputText id="txtName" value="#{manageCoursesBean.course.name}" />

				<h:outputLabel for="spinCapacity" value="Capacity" />
				<p:spinner id="spinCapacity" 	value="#{manageCoursesBean.course.capacity}" />


				<h:outputLabel for="popupButtonStartDate" value="Start Date" />
				<p:calendar value="#{manageCoursesBean.course.startDate}" id="popupButtonStartDate" showOn="button" />
				
				
				<h:outputLabel for="popupButtonEndDate" value="End Date" />
				<p:calendar value="#{manageCoursesBean.course.endDate}" id="popupButtonEndDate" showOn="button" />
				
				
				<h:outputLabel value="Teacher" />
				<p:selectOneMenu value="#{manageCoursesBean.teacherId}" >
					<f:selectItem itemLabel="Select One" itemValue="" />
					<f:selectItems
						var="teacher"
						value="#{manageTeachersBean.findAll()}" 
						itemLabel="#{teacher.name}"
						itemValue="#{teacher.id}"/>
				</p:selectOneMenu>



				<f:facet name="footer">
					<p:commandButton
						ajax="false"
						value="Create Course"
						action="#{manageCoursesBean.saveCourse}"
						icon="ui-icon-check"
						rendered="#{manageCoursesBean.mode eq 'new'}"/>
						
					<p:commandButton
						ajax="false"
						value="Save Changes"
						action="#{manageCoursesBean.saveCourse}"
						icon="ui-icon-check"
						rendered="#{manageCoursesBean.mode eq 'edit'}"/>
				</f:facet>
			</p:panelGrid>

		</h:form>

	</h:body>
</f:view>